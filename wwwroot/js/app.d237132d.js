(function(t){function e(e){for(var s,o,n=e[0],l=e[1],c=e[2],u=0,p=[];u<n.length;u++)o=n[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,n=1;n<a.length;n++){var l=a[n];0!==r[l]&&(s=!1)}s&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},r={app:0},i=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"05db":function(t,e,a){"use strict";var s=a("cc6d"),r=a.n(s);r.a},"20cc":function(t,e,a){},"2aea":function(t,e,a){"use strict";var s=a("b9f6"),r=a.n(s);r.a},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-clr",attrs:{id:"app"}},[a("navbar"),a("router-view")],1)},i=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-secondary shadow"},[a("router-link",{staticClass:"navbar-brand d-flex",attrs:{to:{name:"Home"}}},[a("div",{staticClass:"d-flex flex-column align-items-center"},[a("h1",{staticClass:"border border-primary"},[t._v("Home")])])]),t.$auth.isAuthenticated?a("router-link",{staticClass:"navbar-brand d-flex",attrs:{to:{name:"Profile",params:{Id:this.profile.id}}}},[a("div",{staticClass:"d-flex flex-column align-items-center"},[a("h1",{staticClass:"border border-primary"},[t._v("Profile")])])]):t._e(),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[a("span",{staticClass:"navbar-text"},[t.$auth.isAuthenticated?a("button",{staticClass:"btn btn-danger",on:{click:t.logout}},[t._v("logout")]):a("button",{staticClass:"btn btn-success",on:{click:t.login}},[t._v(" Login ")])])])],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],l=a("335d"),c=a("bc3a"),d=a.n(c);let u=window.location.origin.includes("localhost")?"https://localhost:5001/api/":"/api";const p=d.a.create({baseURL:u,timeout:3e3}),h=function(t){p.defaults.headers.authorization=t},m=function(){p.defaults.headers.authorization=""};var v={name:"Navbar",computed:{profile(){return this.$store.state.profile}},methods:{async login(){await this.$auth.loginWithPopup(),this.$auth.isAuthenticated&&(h(this.$auth.bearer),this.$store.dispatch("getProfile"))},async logout(){m(),await this.$auth.logout({returnTo:window.location.origin})},viewProfile(){this.$router.push({name:"Profile",params:{Id:this.profile.id}})}}},f=v,g=a("2877"),k=Object(g["a"])(f,o,n,!1,null,null,null),C=k.exports,b={name:"App",async beforeCreate(){await Object(l["b"])(),this.$auth.isAuthenticated&&(h(this.$auth.bearer),this.$store.dispatch("getProfile"))},components:{Navbar:C}},w=b,_=(a("5c0b"),Object(g["a"])(w,r,i,!1,null,null,null)),y=_.exports,x=a("8c4f"),V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"home container-fluid"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"card-columns cards text-center"},t._l(t.keeps,(function(t){return a("keep",{key:t.id,attrs:{keep:t}})})),1)])])},K=[],P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"keep"},[a("section",{staticClass:"zoom-in m-2 card keep-body neu-styling",attrs:{"data-toggle":"modal","data-target":t.keepId},on:{click:t.addView}},[a("img",{staticClass:"card-img-top keep-img",attrs:{src:this.keep.img,alt:""}}),a("div",{staticClass:"bottom-left"},[a("h4",{staticClass:"shadow"},[t._v(t._s(t.keep.name))])]),a("div",{staticClass:"bottom-right"},[a("a",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.viewProfile(e)}}},[a("i",{staticClass:"fa fa-user-circle-o pointer user-icon",attrs:{"aria-hidden":"true"}})])])]),a("section",{attrs:{id:"keep-modal"}},[a("details-modal",{attrs:{id:t.modalId},scopedSlots:t._u([{key:"body",fn:function(){return[a("div",{staticClass:"row modal-width"},[a("div",{staticClass:"text-center flex-wrap align-items-center modal-img col-7"},[a("img",{staticClass:"m-1 card-img",attrs:{src:t.keep.img}})]),a("div",{staticClass:"col-5"},[a("div",{staticClass:"card-body"},[a("div",{attrs:{id:"stat-tracking"}},[a("p",{staticClass:"text-right"},[a("i",{staticClass:"fa fa-times exit-icon pointer",attrs:{"aria-hidden":"true","data-dismiss":"modal"}})]),a("p",[a("span",[a("i",{staticClass:"fa fa-eye m-1 counter-icon",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.keep.views)+" ")]),a("span",{staticClass:"mx-5"},[a("i",{staticClass:"fa fa-hdd-o m-1 counter-icon",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.keep.keeps)+" ")]),a("span",{staticClass:"mx-2"},[a("i",{staticClass:"fa fa-share-alt m-1 counter-icon",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.keep.shares))])])]),a("div",{attrs:{id:"modal-title"}},[a("h2",{staticClass:"card-title"},[t._v(t._s(t.keep.name))]),a("hr")]),a("div",{attrs:{id:"modal-description"}},[a("br"),a("p",{staticClass:"card-text"},[t._v(t._s(t.keep.description))])]),a("div",{staticClass:"d-flex justify-content-between",attrs:{id:"footer-functions"}},[a("hr"),a("div",{staticClass:"dropdown"},[a("a",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{href:"#",role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(" Add to Vault ")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuLink"}},t._l(t.vaults,(function(e){return a("a",{key:e.id,staticClass:"dropdown-item",attrs:{href:"#","data-dismiss":"modal",value:e.id},on:{click:function(a){return t.createVaultKeep(e.id)}}},[t._v(t._s(e.name))])})),0)]),t.isCreator?a("i",{staticClass:"fa fa-trash-o trash-icon pointer mx-5",attrs:{"data-dismiss":"modal","aria-hidden":"true"},on:{click:function(e){return t.deleteKeep(t.keep.id)}}}):t._e(),a("p",{},[t._v(t._s(t.keep.creator.name))]),a("img",{staticClass:"creator-img",attrs:{src:t.keep.creator.picture,alt:""}})])])])])]},proxy:!0}])})],1)])},I=[],j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered modal-xl",attrs:{role:"document"}},[a("div",{staticClass:"container-fluid d-flex justify-content-center modal-content"},[a("div",{staticClass:"row"},[t._t("body")],2)])])])},R=[],O={name:"detail-modal",data(){return{}},computed:{},methods:{},components:{}},S=O,A=Object(g["a"])(S,j,R,!1,null,"2bfa496c",null),M=A.exports,E={name:"keep",data(){return{newVaultKeep:{},editVault:{}}},mounted(){},props:{keep:{}},computed:{vaults(){return this.$store.state.vaults},keepId(){return"#a-"+this.keep.id.toString()},modalId(){return"a-"+this.keep.id.toString()},isCreator(){return this.$store.state.profile.id==this.keep.creatorId}},methods:{addView(){this.$store.dispatch("getResource",{path:"keeps/"+this.keep.id,resource:"activeKeep"}),this.$store.dispatch("getResource",{path:"keeps",resource:"keeps"})},deleteKeep(t){this.$store.dispatch("delete",{deletePath:"keeps/"+this.keep.id,resource:"keeps",path:"keeps"}),$(".modal-backdrop").hide(),$(".modal").hide()},viewProfile(){this.$router.push({name:"Profile",params:{Id:this.keep.creator.id}})},createVaultKeep(t){this.newVaultKeep.vaultId=t,this.newVaultKeep.keepId=this.keep.id,this.$store.dispatch("create",{getPath:"vaults/"+t+"/keeps",path:"vaultkeeps",resource:"vaultKeeps",data:this.newVaultKeep})}},components:{DetailsModal:M}},N=E,L=Object(g["a"])(N,P,I,!1,null,"4889e14d",null),D=L.exports,T={name:"home",mounted(){this.$store.dispatch("getResource",{path:"keeps",resource:"keeps"})},data(){return{}},computed:{profile(){return this.$store.state.profile},keeps(){return this.$store.state.keeps}},watch:{profile:function(t){t.picture&&this.$store.dispatch("getResource",{path:"profiles/"+this.profile.id+"/vaults",resource:"vaults"})}},methods:{},components:{Keep:D}},q=T,B=(a("748e"),Object(g["a"])(q,V,K,!1,null,"5df2670e",null)),z=B.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"profile container-fluid"},[t.profile.name?a("div",[a("section",{staticClass:"row"},[a("article",{staticClass:"col-2 text-center",attrs:{id:"profile-picture"}},[a("img",{staticClass:"m-2 profile-picture",attrs:{src:t.profile.picture,alt:""}})]),a("article",{staticClass:"col-10 text-left",attrs:{id:"profile-info"}},[a("div",[a("h1",[t._v(t._s(t.profile.name))]),a("h5",[t._v("Vaults: "+t._s(t.vaults.length))]),a("h5",[t._v("Keeps:"+t._s(t.keeps.length))])])])]),a("section",{staticClass:"row",attrs:{id:"profile-vaults"}},[a("article",{staticClass:"col-12"},[a("hr"),a("h3",{staticClass:"m-2"},[t._v(" Vaults "),t.isCreator?a("i",{staticClass:"fa fa-plus pointer",attrs:{"data-toggle":"modal","data-target":"#vaultCreate"}}):t._e()])]),t._l(t.vaults,(function(t){return a("vault",{key:t.id,attrs:{vault:t}})}))],2),a("section",{staticClass:"row",attrs:{id:"profile-keeps"}},[a("article",{staticClass:"col-12 bg-trans"},[a("h3",{staticClass:"m-2"},[t._v(" Keeps "),t.isCreator?a("i",{staticClass:"fa fa-plus pointer",attrs:{"data-toggle":"modal","data-target":"#keepCreate"}}):t._e()])]),a("article",{staticClass:"card-columns"},t._l(t.keeps,(function(t){return a("profile-keep",{key:t.id,attrs:{keep:t}})})),1)])]):t._e(),t.profile.name?t._e():a("section",{attrs:{id:"loading-screen"}},[a("h1",[t._v("Loading...")])]),a("section",{attrs:{id:"modals"}},[a("form-modal",{attrs:{id:"vaultCreate"},scopedSlots:t._u([{key:"header",fn:function(){return[a("h5",[t._v("Create New Vault")])]},proxy:!0},{key:"body",fn:function(){return[a("div",{staticClass:"row text-center d-flex"},[a("div",{staticClass:"col-12"},[a("form",{staticClass:"m-2",on:{submit:function(e){return e.preventDefault(),t.createVault(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newVault.name,expression:"newVault.name"}],attrs:{type:"text",placeholder:"Name",required:""},domProps:{value:t.newVault.name},on:{input:function(e){e.target.composing||t.$set(t.newVault,"name",e.target.value)}}}),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newVault.description,expression:"newVault.description"}],attrs:{type:"text",placeholder:"Description",required:""},domProps:{value:t.newVault.description},on:{input:function(e){e.target.composing||t.$set(t.newVault,"description",e.target.value)}}}),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newVault.isPrivate,expression:"newVault.isPrivate"}],attrs:{type:"checkbox",required:""},domProps:{checked:Array.isArray(t.newVault.isPrivate)?t._i(t.newVault.isPrivate,null)>-1:t.newVault.isPrivate},on:{change:function(e){var a=t.newVault.isPrivate,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&t.$set(t.newVault,"isPrivate",a.concat([i])):o>-1&&t.$set(t.newVault,"isPrivate",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.newVault,"isPrivate",r)}}})])]),a("div",{staticClass:"col-12"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit","data-dismiss":"modal"},on:{click:t.createVault}},[t._v(" Create ")])])])]},proxy:!0}])}),a("form-modal",{attrs:{id:"keepCreate"},scopedSlots:t._u([{key:"header",fn:function(){return[a("h5",[t._v("Create New Keep")])]},proxy:!0},{key:"body",fn:function(){return[a("div",{staticClass:"row text-center d-flex"},[a("div",{staticClass:"col-12"},[a("form",{staticClass:"m-2",on:{submit:function(e){return e.preventDefault(),t.createKeep(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newKeep.name,expression:"newKeep.name"}],attrs:{type:"text",placeholder:"Name",required:""},domProps:{value:t.newKeep.name},on:{input:function(e){e.target.composing||t.$set(t.newKeep,"name",e.target.value)}}}),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newKeep.description,expression:"newKeep.description"}],attrs:{type:"text",placeholder:"Description",required:""},domProps:{value:t.newKeep.description},on:{input:function(e){e.target.composing||t.$set(t.newKeep,"description",e.target.value)}}}),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newKeep.img,expression:"newKeep.img"}],attrs:{type:"url",placeholder:"Image",required:""},domProps:{value:t.newKeep.img},on:{input:function(e){e.target.composing||t.$set(t.newKeep,"img",e.target.value)}}})])]),a("div",{staticClass:"col-12"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit","data-dismiss":"modal"},on:{click:t.createKeep}},[t._v(" Create ")])])])]},proxy:!0}])})],1)])},H=[],J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"container modal-content"},[a("div",{staticClass:"modal-header text-center"},[t._t("header"),a("i",{staticClass:"fa fa-times text-warning",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}})],2),a("div",{staticClass:"row"},[t._t("body")],2),a("div",{staticClass:"modal-footer"})])])])},Y=[],F={name:"form-modal",data(){return{}},computed:{},methods:{},components:{}},G=F,W=Object(g["a"])(G,J,Y,!1,null,"bd0141d8",null),X=W.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vault col-2",attrs:{id:"vault"}},[a("router-link",{attrs:{to:{name:"Vault",params:{Id:t.vault.id}}}},[a("div",{staticClass:"m-2 card neu-styling"},[a("div",{staticClass:"card-body text-center"},[a("h4",{staticClass:"card-title"},[t._v(t._s(t.vault.name))])])])])],1)},Z=[],tt={name:"vault",props:{vault:{}},data(){return{}},computed:{},methods:{},components:{}},et=tt,at=(a("05db"),Object(g["a"])(et,Q,Z,!1,null,"3d60f094",null)),st=at.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"profile-keep"},[a("section",{staticClass:"zoom-in m-2 card keep-body neu-styling",attrs:{"data-toggle":"modal","data-target":t.keepId},on:{click:t.addView}},[a("img",{staticClass:"card-img-top keep-img",attrs:{src:this.keep.img,alt:""}}),a("div",{staticClass:"bottom-left"},[a("h4",{staticClass:"shadow"},[t._v(t._s(t.keep.name))])]),a("div",{staticClass:"bottom-right"})]),a("section",{attrs:{id:"profile-keep-modal"}},[a("details-modal",{attrs:{id:t.modalId},scopedSlots:t._u([{key:"body",fn:function(){return[a("div",{staticClass:"row modal-width"},[a("div",{staticClass:"text-center flex-wrap align-items-center modal-img col-7"},[a("img",{staticClass:"m-1 card-img",attrs:{src:t.keep.img}})]),a("div",{staticClass:"col-5"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"text-center",attrs:{id:"stat-tracking"}},[a("p",{staticClass:"text-right"},[a("i",{staticClass:"fa fa-times exit-icon pointer",attrs:{"aria-hidden":"true","data-dismiss":"modal"}})]),a("p",[a("span",[a("i",{staticClass:"fa fa-eye m-1 counter-icon",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.keep.views)+" ")]),a("span",{staticClass:"mx-5"},[a("i",{staticClass:"fa fa-hdd-o m-1 counter-icon",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.keep.keeps)+" ")]),a("span",{staticClass:"mx-2"},[a("i",{staticClass:"fa fa-share-alt m-1 counter-icon",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.keep.shares))])])]),a("div",{attrs:{id:"modal-title"}},[a("h2",{staticClass:"card-title"},[t._v(t._s(t.keep.name))]),a("hr")]),a("div",{attrs:{id:"modal-description"}},[a("br"),a("p",{staticClass:"card-text"},[t._v(t._s(t.keep.description))])]),a("div",{staticClass:"d-flex justify-content-between",attrs:{id:"footer-functions"}},[a("hr"),a("div",{staticClass:"dropdown"},[a("a",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{href:"#",role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(" Add to Vault ")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuLink"}},t._l(t.vaults,(function(e){return a("a",{key:e.id,staticClass:"dropdown-item",attrs:{href:"#","data-dismiss":"modal",value:e.id},on:{click:function(a){return t.createVaultKeep(e.id)}}},[t._v(t._s(e.name))])})),0)]),t.isCreator?a("i",{staticClass:"fa fa-trash-o trash-icon pointer mx-5",attrs:{"data-dismiss":"modal","aria-hidden":"true"},on:{click:function(e){return t.deleteKeep(t.keep.id)}}}):t._e(),a("p",{},[t._v(t._s(t.keep.creator.name))]),a("img",{staticClass:"creator-img",attrs:{src:t.keep.creator.picture,alt:""}})])])])])]},proxy:!0}])})],1)])},it=[],ot={name:"profile-keep",data(){return{newVaultKeep:{}}},mounted(){},props:{keep:{}},computed:{vaults(){return this.$store.state.vaults},keepId(){return"#a-"+this.keep.id.toString()},modalId(){return"a-"+this.keep.id.toString()},activeProfile(){return this.$store.state.activeProfile},isCreator(){return this.$store.state.profile.id==this.keep.creatorId}},methods:{addView(){this.$store.dispatch("getResource",{path:"keeps/"+this.keep.id,resource:"activeKeep"}),this.$store.dispatch("getResource",{path:"profiles/"+this.activeProfile.id+"/keeps",resource:"keeps"})},deleteKeep(t){this.$store.dispatch("delete",{deletePath:"keeps/"+this.keep.id,resource:"keeps",path:"keeps"}),$(".modal-backdrop").hide(),$(".modal").hide()},createVaultKeep(t){this.newVaultKeep.vaultId=t,this.newVaultKeep.keepId=this.keep.id,this.$store.dispatch("create",{getPath:"vaults/"+t+"/keeps",path:"vaultkeeps",resource:"vaultKeeps",data:this.newVaultKeep})}},components:{DetailsModal:M}},nt=ot,lt=Object(g["a"])(nt,rt,it,!1,null,"1297df13",null),ct=lt.exports,dt={name:"profile",mounted(){this.$store.dispatch("getResource",{path:"profiles/"+this.$route.params.Id,resource:"activeProfile"}),this.$store.dispatch("getResource",{path:"profiles/"+this.$route.params.Id+"/keeps",resource:"keeps"}),this.$store.dispatch("getResource",{path:"profiles/"+this.$route.params.Id+"/vaults",resource:"vaults"})},data(){return{newKeep:{},newVault:{}}},watch:{profile:function(t){t.picture&&this.$store.dispatch("getResource",{path:"profiles/"+this.$route.params.Id+"/vaults",resource:"vaults"})}},computed:{user(){return this.$store.state.profile},profile(){return this.$store.state.activeProfile},keeps(){return this.$store.state.keeps},vaults(){return this.$store.state.vaults},isCreator(){return this.$store.state.profile.id==this.profile.id}},methods:{createKeep(){this.$store.dispatch("create",{getPath:"profiles/"+this.$route.params.Id+"/keeps",path:"keeps",resource:"keeps",data:this.newKeep}),this.newKeep={},$(".modal-backdrop").hide(),$(".modal").hide()},createVault(){this.$store.dispatch("create",{getPath:"profiles/"+this.$route.params.Id+"/vaults",path:"vaults",resource:"vaults",data:this.newVault}),this.newVault={},$(".modal-backdrop").hide(),$(".modal").hide()}},components:{FormModal:X,Vault:st,ProfileKeep:ct}},ut=dt,pt=(a("2aea"),Object(g["a"])(ut,U,H,!1,null,"bac0ea90",null)),ht=pt.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"vault-details container-fluid"},[t.vault.name?a("section",{staticClass:"row"},[a("article",{staticClass:"col-12",attrs:{id:"vault-header"}},[a("h1",[t._v(t._s(t.vault.name))]),a("p",[t._v("Keeps: "+t._s(t.keeps.length))]),t.isCreator?a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.deleteVault(t.vault.id)}}},[t._v(" delete ")]):t._e()])]):t._e(),a("section",{staticClass:"row d-flex justify-content-center"},t._l(t.keeps,(function(t){return a("vault-keep",{key:t.id,attrs:{keep:t}})})),1),t.vault.name?t._e():a("section",{staticClass:"row",attrs:{id:"loading-screen"}},[a("h1",[t._v("loading...")])])])},vt=[],ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"profile-keep col-3"},[a("section",{staticClass:"zoom-in m-2 card keep-body neu-styling",attrs:{"data-toggle":"modal","data-target":t.keepId},on:{click:t.addView}},[a("img",{staticClass:"card-img-top keep-img",attrs:{src:this.keep.img,alt:""}}),a("div",{staticClass:"bottom-left"},[a("h4",{staticClass:"shadow"},[t._v(t._s(t.keep.name))])]),a("div",{staticClass:"bottom-right"})]),a("section",{attrs:{id:"profile-keep-modal"}},[a("details-modal",{attrs:{id:t.modalId},scopedSlots:t._u([{key:"body",fn:function(){return[a("div",{staticClass:"row modal-width"},[a("div",{staticClass:"text-center flex-wrap align-items-center modal-img col-7"},[a("img",{staticClass:"m-1 card-img",attrs:{src:t.keep.img}})]),a("div",{staticClass:"col-5"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"text-center",attrs:{id:"stat-tracking"}},[a("p",{staticClass:"text-right"},[a("i",{staticClass:"fa fa-times exit-icon pointer",attrs:{"aria-hidden":"true","data-dismiss":"modal"}})]),a("p",[a("span",[a("i",{staticClass:"fa fa-eye m-1 counter-icon",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.keep.views)+" ")]),a("span",{staticClass:"mx-5"},[a("i",{staticClass:"fa fa-hdd-o m-1 counter-icon",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.keep.keeps)+" ")]),a("span",{staticClass:"mx-2"},[a("i",{staticClass:"fa fa-share-alt m-1 counter-icon",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.keep.shares))])])]),a("div",{attrs:{id:"modal-title"}},[a("h2",{staticClass:"card-title"},[t._v(t._s(t.keep.name))]),a("hr")]),a("div",{attrs:{id:"modal-description"}},[a("br"),a("p",{staticClass:"card-text"},[t._v(t._s(t.keep.description))])]),a("div",{staticClass:"d-flex justify-content-between",attrs:{id:"footer-functions"}},[a("hr"),a("div",{staticClass:"dropdown"},[a("a",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{href:"#",role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(" Add to Vault ")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuLink"}},t._l(t.vaults,(function(e){return a("a",{key:e.id,staticClass:"dropdown-item",attrs:{href:"#","data-dismiss":"modal",value:e.id},on:{click:function(a){return t.createVaultKeep(e.id)}}},[t._v(t._s(e.name))])})),0)]),t.isCreator?a("i",{staticClass:"fa fa-trash-o trash-icon pointer mx-5",attrs:{"data-dismiss":"modal","aria-hidden":"true"},on:{click:function(e){return t.deleteVaultKeep(t.keep.vaultKeepId)}}}):t._e(),a("p",{},[t._v(t._s(t.keep.creator.name))]),a("img",{staticClass:"creator-img",attrs:{src:t.keep.creator.picture,alt:""}})])])])])]},proxy:!0}])})],1)])},gt=[],kt={name:"profile-keep",data(){return{newVaultKeep:{}}},mounted(){},props:{keep:{}},computed:{vaults(){return this.$store.state.vaults},keepId(){return"#a-"+this.keep.id.toString()},modalId(){return"a-"+this.keep.id.toString()},isCreator(){return this.$store.state.profile.id==this.vaultCreator.creatorId},vaultCreator(){return this.$store.state.activeVault}},methods:{addView(){this.$store.dispatch("getResource",{path:"keeps/"+this.keep.id,resource:"activeKeep"}),this.$store.dispatch("getResource",{path:"profiles/"+this.profile.id+"/keeps",resource:"keeps"})},deleteVaultKeep(t){this.$store.dispatch("delete",{deletePath:"vaultkeeps/"+this.keep.vaultKeepId,resource:"vaultKeeps",path:"vaults/"+this.$route.params.Id+"/keeps"}),$(".modal-backdrop").hide(),$(".modal").hide()},createVaultKeep(){this.newVaultKeep.keepId=this.keep.id,this.$store.dispatch("create",{getPath:"vaults/"+this.newVaultKeep.vaultId+"/keeps",path:"vaultkeeps",resource:"vaultKeeps",data:this.newVaultKeep})}},components:{DetailsModal:M}},Ct=kt,bt=Object(g["a"])(Ct,ft,gt,!1,null,"37f1b3b1",null),wt=bt.exports,_t={name:"vault-details",mounted(){this.$store.dispatch("getResource",{path:"vaults/"+this.$route.params.Id+"/keeps",resource:"vaultKeeps"}),this.$store.dispatch("getResource",{path:"vaults/"+this.$route.params.Id,resource:"activeVault"}),this.$store.dispatch("getResource",{path:"profiles/"+this.profile.id+"/vaults",resource:"vaults"})},data(){return{}},computed:{profile(){return this.$store.state.profile},keeps(){return this.$store.state.vaultKeeps},vault(){return this.$store.state.activeVault},isCreator(){return this.$store.state.profile.id==this.vault.creatorId}},watch:{profile:function(t){t.picture&&(this.$store.dispatch("getResource",{path:"vaults/"+this.$route.params.Id+"/keeps",resource:"vaultKeeps"}),this.$store.dispatch("getResource",{path:"vaults/"+this.$route.params.Id,resource:"activeVault"}),this.$store.dispatch("getResource",{path:"profiles/"+this.profile.Id+"/vaults",resource:"vaults"}))}},methods:{deleteVault(t){this.$store.dispatch("delete",{deletePath:"vaults/"+this.vault.id,resource:"vaults",path:"profiles/"+this.$route.params.Id+"/vaults"})}},components:{VaultKeep:wt}},yt=_t,$t=Object(g["a"])(yt,mt,vt,!1,null,"775dfcba",null),xt=$t.exports;s["a"].use(x["a"]);const Vt=[{path:"/",name:"Home",component:z},{path:"/profile/:Id",name:"Profile",component:ht},{path:"/vault/:Id",name:"Vault",component:xt}],Kt=new x["a"]({routes:Vt});var Pt=Kt,It=a("2f62"),jt=a("3d20"),Rt=a.n(jt);class Ot{static async confirmAction(t="Are you sure",e="You won't be able to revert this!"){try{let a=await Rt.a.fire({title:t,text:e,icon:"warning",showCancelButton:!0,confirmButtonColor:"teal",cancelButtonColor:"lightsalmon",confirmButtonText:"Yes, delete it!"});return!!a.value}catch(a){}}static toast(t="Default Toast",e=5e3,a="info"){Rt.a.fire({title:t,icon:a,timer:e,toast:!0,position:"top-right",showConfirmButton:!1,timerProgressBar:!0})}}s["a"].use(It["a"]);var St=new It["a"].Store({state:{profile:{},activeProfile:{},activeVault:{},keeps:[],vaultKeeps:[],vaults:[],profileVaults:[],activeKeep:{}},mutations:{setProfile(t,e){t.profile=e},setResource(t,e){t[e.resource]=e.data}},actions:{async getProfile({commit:t}){try{let e=await p.get("profiles");t("setProfile",e.data)}catch(e){console.error(e)}},async getResource({commit:t},e){try{let a=await p.get(e.path);console.log(a.data),t("setResource",{data:a.data,resource:e.resource})}catch(a){console.error(a)}},async create({dispatch:t},e){try{await p.post(e.path,e.data);t("getResource",{path:e.getPath,resource:e.resource})}catch(a){console.error(a)}},async edit({dispatch:t},e){try{await p.put(e.path,e.data),t("getResource",{path:e.getPath,resource:e.resource})}catch(a){console.error(a)}},async delete({dispatch:t},e){try{await Ot.confirmAction("do you want to delete?")&&(await p.delete(e.deletePath),t("getResource",{path:e.path,resource:e.resource}),Ot.toast("Deleted!",2e3,"success"))}catch(a){console.error(a)}}}});const At="dev-tunnelvision77.us.auth0.com",Mt="VhU4Lbj41bLEc94i2kSeXsG8AM9C3Si2",Et="https://keepr.com";s["a"].use(l["a"],{domain:At,clientId:Mt,audience:Et,onRedirectCallback:t=>{Pt.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),new s["a"]({router:Pt,store:St,render:function(t){return t(y)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),r=a.n(s);r.a},"748e":function(t,e,a){"use strict";var s=a("20cc"),r=a.n(s);r.a},"9c0c":function(t,e,a){},b9f6:function(t,e,a){},cc6d:function(t,e,a){}});